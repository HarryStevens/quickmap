<!DOCTYPE html>
<html>
  <head>
    <style>
      body {
        margin: 0;
        font-family: "Helvetica Neue", sans-serif;
      }
      #map {
        width: 100%;
        height: 100vh;
      }
      #map .subunit.subunit-india {
        fill: #fff;
        stroke: #eee;
      }
      #map .boundary.boundary-india {
        stroke: #aaa;
      }
      #map .boundary.boundary-karnataka {
        stroke-width: 2px;
      }
    </style>
  </head>
  <body>

    <div id="map"></div>

<!--     <script src="https://d3js.org/d3-collection.v1.min.js"></script>
    <script src="https://d3js.org/d3-dispatch.v1.min.js"></script>
    <script src="https://d3js.org/d3-dsv.v1.min.js"></script>
    <script src="https://d3js.org/d3-request.v1.min.js"></script>
    <script src="https://d3js.org/d3-queue.v3.min.js"></script> -->

    <script src="d3.v4.min.js"></script>

    <script src="../dist/swiftmap.js"></script>

    <script>
      var map = swiftmap.map("#map");
      var scheme = swiftmap.schemeBubble()
        .values(d => d.candidate_json.length);     

      d3.queue()
        .defer(d3.json, "india_state.json")
        .defer(d3.json, "karnataka_geodata.json")
        .defer(d3.json, "karnataka_data_2013.json")
        .await(ready);

      function ready(err, india, karnataka, results2013){

        scheme.data(results2013, d => d.const_code);

        map
          .polygons(india, null, "india")
            .drawSubunits()
            .drawBoundary()
          .polygons(karnataka, d => d.properties.ac_no, "karnataka")
            .draw()
            .drawScheme(scheme);

        window.onresize = () => map.resize();

      }
        


    </script>
  </body>
</html>