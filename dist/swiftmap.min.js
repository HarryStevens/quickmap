// https://github.com/HarryStevens/swiftmap#readme Version 0.0.19. Copyright 2018 Harry Stevens.
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.swiftmap={})}(this,function(t){"use strict";function n(){return new e}function e(){this.reset()}function r(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}function i(t){return t>1?0:t<-1?Ce:Math.acos(t)}function o(t){return t>1?ze:t<-1?-ze:Math.asin(t)}function u(){}function a(t,n){t&&Xe.hasOwnProperty(t.type)&&Xe[t.type](t,n)}function c(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function s(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)c(t[e],n,1);n.polygonEnd()}function l(t,n){t&&$e.hasOwnProperty(t.type)?$e[t.type](t,n):a(t,n)}function f(t){return[He(t[1],t[0]),o(t[2])]}function h(t){var n=t[0],e=t[1],r=Fe(e);return[r*Fe(n),r*Ue(n),Ue(e)]}function p(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function d(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function g(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function v(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function y(t){var n=Ve(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function _(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function m(t,n){return[t>Ce?t-Be:t<-Ce?t+Be:t,n]}function w(t,n,e){return(t%=Be)?n||e?_(E(t),b(n,e)):E(t):n||e?b(n,e):m}function S(t){return function(n,e){return n+=t,[n>Ce?n-Be:n<-Ce?n+Be:n,e]}}function E(t){var n=S(t);return n.invert=S(-t),n}function b(t,n){function e(t,n){var e=Fe(n),c=Fe(t)*e,s=Ue(t)*e,l=Ue(n),f=l*r+c*i;return[He(s*u-f*a,c*r-l*i),o(f*u+s*a)]}var r=Fe(t),i=Ue(t),u=Fe(n),a=Ue(n);return e.invert=function(t,n){var e=Fe(n),c=Fe(t)*e,s=Ue(t)*e,l=Ue(n),f=l*u-s*a;return[He(s*u+l*a,c*r+f*i),o(f*r-c*i)]},e}function x(t){function n(n){return n=t(n[0]*Te,n[1]*Te),n[0]*=Re,n[1]*=Re,n}return t=w(t[0]*Te,t[1]*Te,t.length>2?t[2]*Te:0),n.invert=function(n){return n=t.invert(n[0]*Te,n[1]*Te),n[0]*=Re,n[1]*=Re,n},n}function M(t,n,e,r,i,o){if(e){var u=Fe(n),a=Ue(n),c=r*e;null==i?(i=n+r*Be,o=n-c/2):(i=N(u,i),o=N(u,o),(r>0?i<o:i>o)&&(i+=r*Be));for(var s,l=i;r>0?l>o:l<o;l-=c)s=f([u,-a*Fe(l),-a*Ue(l)]),t.point(s[0],s[1])}}function N(t,n){n=h(n),n[0]-=t,y(n);var e=i(-n[1]);return((-n[2]<0?-e:e)+Be-1e-6)%Be}function A(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:u,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function k(t,n){return qe(t[0]-n[0])<1e-6&&qe(t[1]-n[1])<1e-6}function P(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function j(t,n,e,r,i){var o,u,a=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(k(r,u)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a.push(e=new P(r,t,null,!0)),c.push(e.o=new P(r,null,e,!1)),a.push(e=new P(u,t,null,!1)),c.push(e.o=new P(u,null,e,!0))}}),a.length){for(c.sort(n),L(a),L(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;for(var s,l,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,u=s.length;o<u;++o)i.point((l=s[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((l=s[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,s=h.z,p=!p}while(!h.v);i.lineEnd()}}}function L(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function C(t,n){var e=n[0],r=n[1],i=Ue(r),u=[Ue(e),-Fe(e),0],a=0,c=0;rr.reset(),1===i?r=ze+1e-6:i===-1&&(r=-ze-1e-6);for(var s=0,l=t.length;s<l;++s)if(p=(f=t[s]).length)for(var f,p,g=f[p-1],v=g[0],_=g[1]/2+Oe,m=Ue(_),w=Fe(_),S=0;S<p;++S,v=b,m=M,w=N,g=E){var E=f[S],b=E[0],x=E[1]/2+Oe,M=Ue(x),N=Fe(x),A=b-v,k=A>=0?1:-1,P=k*A,j=P>Ce,L=m*M;if(rr.add(He(L*k*Ue(P),w*N+L*Fe(P))),a+=j?A+k*Be:A,j^v>=e^b>=e){var C=d(h(g),h(E));y(C);var z=d(u,C);y(z);var O=(j^A>=0?-1:1)*o(z[2]);(r>O||r===O&&(C[0]||C[1]))&&(c+=j^A>=0?1:-1)}}return(a<-1e-6||a<1e-6&&rr<-1e-6)^1&c}function z(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function O(t){return 1===t.length&&(t=B(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}function B(t){return function(n,e){return z(t(n),e)}}function R(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(r=t[i],n=r.length;--n>=0;)e[--u]=r[n];return e}function T(t,n,e,r){return function(i){function o(n,e){t(n,e)&&i.point(n,e)}function u(t,n){g.point(t,n)}function a(){m.point=u,g.lineStart()}function c(){m.point=o,g.lineEnd()}function s(t,n){d.push([t,n]),y.point(t,n)}function l(){y.lineStart(),d=[]}function f(){s(d[0][0],d[0][1]),y.lineEnd();var t,n,e,r,o=y.clean(),u=v.result(),a=u.length;if(d.pop(),h.push(d),d=null,a)if(1&o){if(e=u[0],(n=e.length-1)>0){for(_||(i.polygonStart(),_=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else a>1&&2&o&&u.push(u.pop().concat(u.shift())),p.push(u.filter(q))}var h,p,d,g=n(i),v=A(),y=n(v),_=!1,m={point:o,lineStart:a,lineEnd:c,polygonStart:function(){m.point=s,m.lineStart=l,m.lineEnd=f,p=[],h=[]},polygonEnd:function(){m.point=o,m.lineStart=a,m.lineEnd=c,p=R(p);var t=C(h,r);p.length?(_||(i.polygonStart(),_=!0),j(p,D,t,e,i)):t&&(_||(i.polygonStart(),_=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),_&&(i.polygonEnd(),_=!1),p=h=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return m}}function q(t){return t.length>1}function D(t,n){return((t=t.x)[0]<0?t[1]-ze-1e-6:ze-t[1])-((n=n.x)[0]<0?n[1]-ze-1e-6:ze-n[1])}function H(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?Ce:-Ce,c=qe(o-e);qe(c-Ce)<1e-6?(t.point(e,r=(r+u)/2>0?ze:-ze),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&c>=Ce&&(qe(e-i)<1e-6&&(e-=1e-6*i),qe(o-a)<1e-6&&(o-=1e-6*a),r=F(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}function F(t,n,e,r){var i,o,u=Ue(t-e);return qe(u)>1e-6?De((Ue(n)*(o=Fe(r))*Ue(e)-Ue(r)*(i=Fe(n))*Ue(t))/(i*o*u)):(n+r)/2}function G(t,n,e,r){var i;if(null==t)i=e*ze,r.point(-Ce,i),r.point(0,i),r.point(Ce,i),r.point(Ce,0),r.point(Ce,-i),r.point(0,-i),r.point(-Ce,-i),r.point(-Ce,0),r.point(-Ce,i);else if(qe(t[0]-n[0])>1e-6){var o=t[0]<n[0]?Ce:-Ce;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function I(t){function n(n,e,r,i){M(i,t,a,r,n,e)}function e(t,n){return Fe(t)*Fe(n)>u}function r(t){var n,r,u,a,l;return{lineStart:function(){a=u=!1,l=1},point:function(f,h){var p,d=[f,h],g=e(f,h),v=c?g?0:o(f,h):g?o(f+(f<0?Ce:-Ce),h):0;if(!n&&(a=u=g)&&t.lineStart(),g!==u&&(!(p=i(n,d))||k(n,p)||k(d,p))&&(d[0]+=1e-6,d[1]+=1e-6,g=e(d[0],d[1])),g!==u)l=0,g?(t.lineStart(),p=i(d,n),t.point(p[0],p[1])):(p=i(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(s&&n&&c^g){var y;v&r||!(y=i(d,n,!0))||(l=0,c?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!g||n&&k(n,d)||t.point(d[0],d[1]),n=d,u=g,r=v},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return l|(a&&u)<<1}}}function i(t,n,e){var r=h(t),i=h(n),o=[1,0,0],a=d(r,i),c=p(a,a),s=a[0],l=c-s*s;if(!l)return!e&&t;var y=u*c/l,_=-u*s/l,m=d(o,a),w=v(o,y);g(w,v(a,_));var S=m,E=p(w,S),b=p(S,S),x=E*E-b*(p(w,w)-1);if(!(x<0)){var M=Ve(x),N=v(S,(-E-M)/b);if(g(N,w),N=f(N),!e)return N;var A,k=t[0],P=n[0],j=t[1],L=n[1];P<k&&(A=k,k=P,P=A);var C=P-k,z=qe(C-Ce)<1e-6,O=z||C<1e-6;if(!z&&L<j&&(A=j,j=L,L=A),O?z?j+L>0^N[1]<(qe(N[0]-k)<1e-6?j:L):j<=N[1]&&N[1]<=L:C>Ce^(k<=N[0]&&N[0]<=P)){var B=v(S,(-E+M)/b);return g(B,w),[N,f(B)]}}}function o(n,e){var r=c?t:Ce-t,i=0;return n<-r?i|=1:n>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var u=Fe(t),a=6*Te,c=u>0,s=qe(u)>1e-6;return T(e,r,n,c?[0,-t]:[-Ce,t-Ce])}function U(t,n,e,r,i,o){var u,a=t[0],c=t[1],s=n[0],l=n[1],f=0,h=1,p=s-a,d=l-c;if(u=e-a,p||!(u>0)){if(u/=p,p<0){if(u<f)return;u<h&&(h=u)}else if(p>0){if(u>h)return;u>f&&(f=u)}if(u=i-a,p||!(u<0)){if(u/=p,p<0){if(u>h)return;u>f&&(f=u)}else if(p>0){if(u<f)return;u<h&&(h=u)}if(u=r-c,d||!(u>0)){if(u/=d,d<0){if(u<f)return;u<h&&(h=u)}else if(d>0){if(u>h)return;u>f&&(f=u)}if(u=o-c,d||!(u<0)){if(u/=d,d<0){if(u>h)return;u>f&&(f=u)}else if(d>0){if(u<f)return;u<h&&(h=u)}return f>0&&(t[0]=a+f*p,t[1]=c+f*d),h<1&&(n[0]=a+h*p,n[1]=c+h*d),!0}}}}}function V(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,s){var l=0,f=0;if(null==i||(l=u(i,a))!==(f=u(o,a))||c(i,o)<0^a>0){do s.point(0===l||3===l?t:e,l>1?r:n);while((l=(l+a+4)%4)!==f)}else s.point(o[0],o[1])}function u(r,i){return qe(r[0]-t)<1e-6?i>0?0:3:qe(r[0]-e)<1e-6?i>0?2:1:qe(r[1]-n)<1e-6?i>0?1:0:i>0?3:2}function a(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){function c(t,n){i(t,n)&&N.point(t,n)}function s(){for(var n=0,e=0,i=v.length;e<i;++e)for(var o,u,a=v[e],c=1,s=a.length,l=a[0],f=l[0],h=l[1];c<s;++c)o=f,u=h,l=a[c],f=l[0],h=l[1],u<=r?h>r&&(f-o)*(r-u)>(h-u)*(t-o)&&++n:h<=r&&(f-o)*(r-u)<(h-u)*(t-o)&&--n;return n}function l(){N=k,g=[],v=[],M=!0}function f(){var t=s(),n=M&&t,e=(g=R(g)).length;(n||e)&&(u.polygonStart(),n&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),e&&j(g,a,t,o,u),u.polygonEnd()),N=u,g=v=y=null}function h(){P.point=d,v&&v.push(y=[]),x=!0,b=!1,S=E=NaN}function p(){g&&(d(_,m),w&&b&&k.rejoin(),g.push(k.result())),P.point=c,b&&N.lineEnd()}function d(o,u){var a=i(o,u);if(v&&y.push([o,u]),x)_=o,m=u,w=a,x=!1,a&&(N.lineStart(),N.point(o,u));else if(a&&b)N.point(o,u);else{var c=[S=Math.max(-1e9,Math.min(1e9,S)),E=Math.max(-1e9,Math.min(1e9,E))],s=[o=Math.max(-1e9,Math.min(1e9,o)),u=Math.max(-1e9,Math.min(1e9,u))];U(c,s,t,n,e,r)?(b||(N.lineStart(),N.point(c[0],c[1])),N.point(s[0],s[1]),a||N.lineEnd(),M=!1):a&&(N.lineStart(),N.point(o,u),M=!1)}S=o,E=u,b=a}var g,v,y,_,m,w,S,E,b,x,M,N=u,k=A(),P={point:c,lineStart:h,lineEnd:p,polygonStart:l,polygonEnd:f};return P}}function W(t){return t}function $(){ar.point=X}function X(t,n){ar.point=Z,Ze=Ke=t,Je=Qe=n}function Z(t,n){ur.add(Qe*t-Ke*n),Ke=t,Qe=n}function J(){Z(Ze,Je)}function K(t,n){t<cr&&(cr=t),t>lr&&(lr=t),n<sr&&(sr=n),n>fr&&(fr=n)}function Q(t,n){pr+=t,dr+=n,++gr}function Y(){Er.point=tt}function tt(t,n){Er.point=nt,Q(nr=t,er=n)}function nt(t,n){var e=t-nr,r=n-er,i=Ve(e*e+r*r);vr+=i*(nr+t)/2,yr+=i*(er+n)/2,_r+=i,Q(nr=t,er=n)}function et(){Er.point=Q}function rt(){Er.point=ot}function it(){ut(Ye,tr)}function ot(t,n){Er.point=ut,Q(Ye=nr=t,tr=er=n)}function ut(t,n){var e=t-nr,r=n-er,i=Ve(e*e+r*r);vr+=i*(nr+t)/2,yr+=i*(er+n)/2,_r+=i,i=er*t-nr*n,mr+=i*(nr+t),wr+=i*(er+n),Sr+=3*i,Q(nr=t,er=n)}function at(t){this._context=t}function ct(t,n){Pr.point=st,xr=Nr=t,Mr=Ar=n}function st(t,n){Nr-=t,Ar-=n,kr.add(Ve(Nr*Nr+Ar*Ar)),Nr=t,Ar=n}function lt(){this._string=[]}function ft(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ht(t,n){function e(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),l(t,r(i))),i.result()}var r,i,o=4.5;return e.area=function(t){return l(t,r(ar)),ar.result()},e.measure=function(t){return l(t,r(Pr)),Pr.result()},e.bounds=function(t){return l(t,r(hr)),hr.result()},e.centroid=function(t){return l(t,r(Er)),Er.result()},e.projection=function(n){return arguments.length?(r=null==n?(t=null,W):(t=n).stream,e):t},e.context=function(t){return arguments.length?(i=null==t?(n=null,new lt):new at(n=t),"function"!=typeof o&&i.pointRadius(o),e):n},e.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),e):o},e.projection(t).context(n)}function pt(t){return function(n){var e=new dt;for(var r in t)e[r]=t[r];return e.stream=n,e}}function dt(){}function gt(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),l(e,t.stream(hr)),n(hr.result()),null!=r&&t.clipExtent(r),t}function vt(t,n,e){return gt(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([u,a])},e)}function yt(t,n,e){return vt(t,[[0,0],n],e)}function _t(t,n,e){return gt(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([o,u])},e)}function mt(t,n,e){return gt(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,u])},e)}function wt(t,n){return+n?Et(t,n):St(t)}function St(t){return pt({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function Et(t,n){function e(r,i,u,a,c,s,l,f,h,p,d,g,v,y){var _=l-r,m=f-i,w=_*_+m*m;if(w>4*n&&v--){var S=a+p,E=c+d,b=s+g,x=Ve(S*S+E*E+b*b),M=o(b/=x),N=qe(qe(b)-1)<1e-6||qe(u-h)<1e-6?(u+h)/2:He(E,S),A=t(N,M),k=A[0],P=A[1],j=k-r,L=P-i,C=m*j-_*L;(C*C/w>n||qe((_*j+m*L)/w-.5)>.3||a*p+c*d+s*g<jr)&&(e(r,i,u,a,c,s,k,P,N,S/=x,E/=x,b,v,y),y.point(k,P),e(k,P,N,S,E,b,l,f,h,p,d,g,v,y))}}return function(n){function r(e,r){e=t(e,r),n.point(e[0],e[1])}function i(){_=NaN,b.point=o,n.lineStart()}function o(r,i){var o=h([r,i]),u=t(r,i);e(_,m,y,w,S,E,_=u[0],m=u[1],y=r,w=o[0],S=o[1],E=o[2],16,n),n.point(_,m)}function u(){b.point=r,n.lineEnd()}function a(){i(),b.point=c,b.lineEnd=s}function c(t,n){o(l=t,n),f=_,p=m,d=w,g=S,v=E,b.point=o}function s(){e(_,m,y,w,S,E,f,p,l,d,g,v,16,n),b.lineEnd=u,u()}var l,f,p,d,g,v,y,_,m,w,S,E,b={point:r,lineStart:i,lineEnd:u,polygonStart:function(){n.polygonStart(),b.lineStart=a},polygonEnd:function(){n.polygonEnd(),b.lineStart=i}};return b}}function bt(t){return pt({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function xt(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r}function Mt(t,n,e,r){function i(t,r){return[a*t-c*r+n,e-c*t-a*r]}var o=Fe(r),u=Ue(r),a=o*t,c=u*t,s=o/t,l=u/t,f=(u*e-o*n)/t,h=(u*n+o*e)/t;return i.invert=function(t,n){return[s*t-l*n+f,h-l*t-s*n]},i}function Nt(t){return At(function(){return t})()}function At(t){function n(t){return h(t[0]*Te,t[1]*Te)}function e(t){return(t=h.invert(t[0],t[1]))&&[t[0]*Re,t[1]*Re]}function r(){var t=Mt(g,0,0,M).apply(null,o(m,S)),n=(M?Mt:xt)(g,v-t[0],y-t[1],M);return u=w(E,b,x),f=_(o,n),h=_(u,f),l=wt(f,j),i()}function i(){return p=d=null,n}var o,u,a,c,s,l,f,h,p,d,g=150,v=480,y=250,m=0,S=0,E=0,b=0,x=0,M=0,N=null,A=ir,k=null,P=W,j=.5;return n.stream=function(t){return p&&d===t?p:p=Lr(bt(u)(A(l(P(d=t)))))},n.preclip=function(t){return arguments.length?(A=t,N=void 0,i()):A},n.postclip=function(t){return arguments.length?(P=t,k=a=c=s=null,i()):P},n.clipAngle=function(t){return arguments.length?(A=+t?I(N=t*Te):(N=null,ir),i()):N*Re},n.clipExtent=function(t){return arguments.length?(P=null==t?(k=a=c=s=null,W):V(k=+t[0][0],a=+t[0][1],c=+t[1][0],s=+t[1][1]),i()):null==k?null:[[k,a],[c,s]]},n.scale=function(t){return arguments.length?(g=+t,r()):g},n.translate=function(t){return arguments.length?(v=+t[0],y=+t[1],r()):[v,y]},n.center=function(t){return arguments.length?(m=t[0]%360*Te,S=t[1]%360*Te,r()):[m*Re,S*Re]},n.rotate=function(t){return arguments.length?(E=t[0]%360*Te,b=t[1]%360*Te,x=t.length>2?t[2]%360*Te:0,r()):[E*Re,b*Re,x*Re]},n.angle=function(t){return arguments.length?(M=t%360*Te,r()):M*Re},n.precision=function(t){return arguments.length?(l=wt(f,j=t*t),i()):Ve(j)},n.fitExtent=function(t,e){return vt(n,t,e)},n.fitSize=function(t,e){return yt(n,t,e)},n.fitWidth=function(t,e){return _t(n,t,e)},n.fitHeight=function(t,e){return mt(n,t,e)},function(){return o=t.apply(this,arguments),n.invert=o.invert&&e,r()}}function kt(t,n){return[t,Ie(We((ze+n)/2))]}function Pt(){return jt(kt).scale(961/Be)}function jt(t){function n(){var n=Ce*a(),u=o(x(o.rotate()).invert([0,0]));return s(null==l?[[u[0]-n,u[1]-n],[u[0]+n,u[1]+n]]:t===kt?[[Math.max(u[0]-n,l),e],[Math.min(u[0]+n,r),i]]:[[l,Math.max(u[1]-n,e)],[r,Math.min(u[1]+n,i)]])}var e,r,i,o=Nt(t),u=o.center,a=o.scale,c=o.translate,s=o.clipExtent,l=null;return o.scale=function(t){return arguments.length?(a(t),n()):a()},o.translate=function(t){return arguments.length?(c(t),n()):c()},o.center=function(t){return arguments.length?(u(t),n()):u()},o.clipExtent=function(t){return arguments.length?(null==t?l=e=r=i=null:(l=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),n()):null==l?null:[[l,e],[r,i]]},n()}function Lt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),zr.hasOwnProperty(n)?{space:zr[n],local:t}:t}function Ct(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Cr&&n.documentElement.namespaceURI===Cr?n.createElement(t):n.createElementNS(e,t)}}function zt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ot(t){var n=Lt(t);return(n.local?zt:Ct)(n)}function Bt(){}function Rt(t){return null==t?Bt:function(){return this.querySelector(t)}}function Tt(t){"function"!=typeof t&&(t=Rt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),l=0;l<c;++l)(o=a[l])&&(u=t.call(o,o.__data__,l,a))&&("__data__"in o&&(u.__data__=o.__data__),s[l]=u);return new le(r,this._parents)}function qt(){return[]}function Dt(t){return null==t?qt:function(){return this.querySelectorAll(t)}}function Ht(t){"function"!=typeof t&&(t=Dt(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new le(r,i)}function Ft(t){"function"!=typeof t&&(t=Tr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new le(r,this._parents)}function Gt(t){return new Array(t.length)}function It(){return new le(this._enter||this._groups.map(Gt),this._parents)}function Ut(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Vt(t){return function(){return t}}function Wt(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new Ut(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function $t(t,n,e,r,i,o,u){var a,c,s,l={},f=n.length,h=o.length,p=new Array(f);for(a=0;a<f;++a)(c=n[a])&&(p[a]=s="$"+u.call(c,c.__data__,a,n),s in l?i[a]=c:l[s]=c);for(a=0;a<h;++a)s="$"+u.call(t,o[a],a,o),(c=l[s])?(r[a]=c,c.__data__=o[a],l[s]=null):e[a]=new Ut(t,o[a]);for(a=0;a<f;++a)(c=n[a])&&l[p[a]]===c&&(i[a]=c)}function Xt(t,n){if(!t)return p=new Array(this.size()),s=-1,this.each(function(t){p[++s]=t}),p;var e=n?$t:Wt,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Vt(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var l=r[s],f=i[s],h=f.length,p=t.call(l,l&&l.__data__,s,r),d=p.length,g=a[s]=new Array(d),v=u[s]=new Array(d);e(l,f,g,v,c[s]=new Array(h),p,n);for(var y,_,m=0,w=0;m<d;++m)if(y=g[m]){for(m>=w&&(w=m+1);!(_=v[w])&&++w<d;);y._next=_||null}}return u=new le(u,r),u._enter=a,u._exit=c,u}function Zt(){return new le(this._exit||this._groups.map(Gt),this._parents)}function Jt(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],l=e[a],f=s.length,h=u[a]=new Array(f),p=0;p<f;++p)(c=s[p]||l[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new le(u,this._parents)}function Kt(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this}function Qt(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Yt);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,s=i[o]=new Array(c),l=0;l<c;++l)(u=a[l])&&(s[l]=u);s.sort(n)}return new le(i,this._parents).order()}function Yt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function tn(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function nn(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t}function en(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null}function rn(){var t=0;return this.each(function(){++t}),t}function on(){return!this.node()}function un(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this}function an(t){return function(){this.removeAttribute(t)}}function cn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sn(t,n){return function(){this.setAttribute(t,n)}}function ln(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function fn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function hn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function pn(t,n){var e=Lt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?cn:an:"function"==typeof n?e.local?hn:fn:e.local?ln:sn)(e,n))}function dn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function gn(t){return function(){this.style.removeProperty(t)}}function vn(t,n,e){return function(){this.style.setProperty(t,n,e)}}function yn(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function _n(t,n,e){return arguments.length>1?this.each((null==n?gn:"function"==typeof n?yn:vn)(t,n,null==e?"":e)):mn(this.node(),t)}function mn(t,n){return t.style.getPropertyValue(n)||dn(t).getComputedStyle(t,null).getPropertyValue(n)}function wn(t){return function(){delete this[t]}}function Sn(t,n){return function(){this[t]=n}}function En(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function bn(t,n){return arguments.length>1?this.each((null==n?wn:"function"==typeof n?En:Sn)(t,n)):this.node()[t]}function xn(t){return t.trim().split(/^|\s+/)}function Mn(t){return t.classList||new Nn(t)}function Nn(t){this._node=t,this._names=xn(t.getAttribute("class")||"")}function An(t,n){for(var e=Mn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function kn(t,n){for(var e=Mn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Pn(t){return function(){An(this,t)}}function jn(t){return function(){kn(this,t)}}function Ln(t,n){return function(){(n.apply(this,arguments)?An:kn)(this,t)}}function Cn(t,n){var e=xn(t+"");if(arguments.length<2){for(var r=Mn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Ln:n?Pn:jn)(e,n))}function zn(){this.textContent=""}function On(t){return function(){this.textContent=t}}function Bn(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Rn(t){return arguments.length?this.each(null==t?zn:("function"==typeof t?Bn:On)(t)):this.node().textContent}function Tn(){this.innerHTML=""}function qn(t){return function(){this.innerHTML=t}}function Dn(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Hn(t){return arguments.length?this.each(null==t?Tn:("function"==typeof t?Dn:qn)(t)):this.node().innerHTML}function Fn(){this.nextSibling&&this.parentNode.appendChild(this)}function Gn(){return this.each(Fn)}function In(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Un(){return this.each(In)}function Vn(t){var n="function"==typeof t?t:Ot(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Wn(){return null}function $n(t,n){var e="function"==typeof t?t:Ot(t),r=null==n?Wn:"function"==typeof n?n:Rt(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Xn(){var t=this.parentNode;t&&t.removeChild(this)}function Zn(){return this.each(Xn)}function Jn(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Kn(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function Qn(t){return this.select(t?Kn:Jn)}function Yn(t){return arguments.length?this.property("__data__",t):this.node().__data__}function te(t,n,e){return t=ne(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function ne(t,n,e){return function(r){try{t.call(this,this.__data__,n,e)}finally{}}}function ee(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}function re(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function ie(t,n,e){var r=qr.hasOwnProperty(t.type)?te:ne;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var l=0,f=c.length;l<f;++l)if((a=c[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function oe(t,n,e){var r,i,o=ee(t+""),u=o.length;{if(!(arguments.length<2)){for(a=n?ie:re,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,l=a.length;s<l;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}}function ue(t,n,e){var r=dn(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ae(t,n){return function(){return ue(this,t,n)}}function ce(t,n){return function(){return ue(this,t,n.apply(this,arguments))}}function se(t,n){return this.each(("function"==typeof n?ce:ae)(t,n))}function le(t,n){this._groups=t,this._parents=n}function fe(){return new le([[document.documentElement]],Dr)}function he(t){return"string"==typeof t?new le([[document.querySelector(t)]],[document.documentElement]):new le([[t]],Dr)}function pe(){return this.fitSize().drawSubunits().drawBoundary(),this}function de(t){return t}function ge(t){if(null==t)return de;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],u=t.translate[1];return function(t,a){a||(n=e=0);var c=2,s=t.length,l=new Array(s);for(l[0]=(n+=t[0])*r+o,l[1]=(e+=t[1])*i+u;c<s;)l[c]=t[c],++c;return l}}function ve(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}function ye(t,n){return"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map(function(n){return _e(t,n)})}:_e(t,n)}function _e(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=me(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}function me(t,n){function e(t,n){n.length&&n.pop();for(var e=s[t<0?~t:t],r=0,i=e.length;r<i;++r)n.push(c(e[r],r));t<0&&ve(n,i)}function r(t){return c(t)}function i(t){for(var n=[],r=0,i=t.length;r<i;++r)e(t[r],n);return n.length<2&&n.push(n[0]),n}function o(t){for(var n=i(t);n.length<4;)n.push(n[0]);return n}function u(t){return t.map(o)}function a(t){var n,e=t.type;switch(e){case"GeometryCollection":return{type:e,geometries:t.geometries.map(a)};case"Point":n=r(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(r);break;case"LineString":n=i(t.arcs);break;case"MultiLineString":n=t.arcs.map(i);break;case"Polygon":n=u(t.arcs);break;case"MultiPolygon":n=t.arcs.map(u);break;default:return null}return{type:e,coordinates:n}}var c=ge(t.transform),s=t.arcs;return a(n)}function we(t,n){function e(n){var e,r=t.arcs[n<0?~n:n],i=r[0];return t.transform?(e=[0,0],r.forEach(function(t){e[0]+=t[0],e[1]+=t[1]})):e=r[r.length-1],n<0?[e,i]:[i,e]}function r(t,n){for(var e in t){var r=t[e];delete n[r.start],delete r.start,delete r.end,r.forEach(function(t){i[t<0?~t:t]=1}),a.push(r)}}var i={},o={},u={},a=[],c=-1;return n.forEach(function(e,r){var i,o=t.arcs[e<0?~e:e];o.length<3&&!o[1][0]&&!o[1][1]&&(i=n[++c],n[c]=e,n[r]=i)}),n.forEach(function(t){var n,r,i=e(t),a=i[0],c=i[1];if(n=u[a])if(delete u[n.end],n.push(t),n.end=c,r=o[c]){delete o[r.start];var s=r===n?n:n.concat(r);o[s.start=n.start]=u[s.end=r.end]=s}else o[n.start]=u[n.end]=n;else if(n=o[c])if(delete o[n.start],n.unshift(t),n.start=a,r=u[a]){delete u[r.end];var l=r===n?n:r.concat(n);o[l.start=r.start]=u[l.end=n.end]=l}else o[n.start]=u[n.end]=n;else n=[t],o[n.start=a]=u[n.end=c]=n}),r(u,o),r(o,u),n.forEach(function(t){i[t<0?~t:t]||a.push([t])}),a}function Se(t){return me(t,Ee.apply(this,arguments))}function Ee(t,n,e){var r,i,o;if(arguments.length>1)r=be(t,n,e);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:we(t,r)}}function be(t,n,e){function r(t){var n=t<0?~t:t;(l[n]||(l[n]=[])).push({i:t,g:c})}function i(t){t.forEach(r)}function o(t){t.forEach(i)}function u(t){t.forEach(o)}function a(t){switch(c=t,t.type){case"GeometryCollection":t.geometries.forEach(a);break;case"LineString":i(t.arcs);break;case"MultiLineString":case"Polygon":o(t.arcs);break;case"MultiPolygon":u(t.arcs)}}var c,s=[],l=[];return a(n),l.forEach(null==e?function(t){s.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&s.push(t[0].i)}),s}function xe(){var t=this.data.geo.objects[Object.keys(this.data.geo.objects)[0]];return this.boundary=this.svg.append("path").datum(Se(this.data.geo,t,function(t,n){return t===n})).attr("d",this.path).attr("class","boundary").attr("stroke","#000").attr("fill","none"),this}function Me(){var t=this.data.geo.objects[Object.keys(this.data.geo.objects)[0]];return this.subunits=this.svg.selectAll(".subunit").data(ye(this.data.geo,t).features).enter().append("path").attr("class","subunit").attr("d",this.path).attr("stroke","#fff").attr("stroke-width","1px").attr("fill","#ccc"),this}function Ne(){var t=this.data.geo.objects[Object.keys(this.data.geo.objects)[0]];return this.projection.fitSize([this.width,this.height],ye(this.data.geo,t)),this}function Ae(t){return t.replace(/[^\d.-]/g,"")}function ke(){this.width="body"==this.wrapper?window.innerWidth:+Ae(he(this.wrapper).style("width")),this.height="body"==this.wrapper?window.innerHeight:+Ae(he(this.wrapper).style("height")),this.svg.attr("width",this.width).attr("height",this.height),this.fitSize(),this.svg.selectAll("path").attr("d",this.path);var t=this.projection;return this.svg.selectAll("text").attr("transform",function(n){return"translate("+t(n.geometry.coordinates)+")"}),this}function Pe(t,n){return t?(this.data.geo=t,n&&(this.keys.geo=n),this.draw=pe,this.drawBoundary=xe,this.drawSubunits=Me,this.fitSize=Ne,this.resize=ke,this):this.data.geo}function je(t){if(t&&"string"!=typeof t)throw TypeError("The argument passed to swiftmap.init() must be a string.");return this.wrapper=t?t:"body",this.projection=Pt(),this.width="body"==this.wrapper?window.innerWidth:+Ae(he(this.wrapper).style("width")),this.height="body"==this.wrapper?window.innerHeight:+Ae(he(this.wrapper).style("height")),this.path=ht().projection(this.projection),this.svg=he(this.wrapper).append("svg").attr("width",this.width).attr("height",this.height),this.data={geo:[],tab:[]},this.keys={},this.dataGeo=Pe,this}e.prototype={constructor:e,reset:function(){this.s=this.t=0},
add:function(t){r(Le,t,this.t),r(this,Le.s,this.s),this.s?this.t+=Le.t:this.s=Le.t},valueOf:function(){return this.s}};var Le=new e,Ce=Math.PI,ze=Ce/2,Oe=Ce/4,Be=2*Ce,Re=180/Ce,Te=Ce/180,qe=Math.abs,De=Math.atan,He=Math.atan2,Fe=Math.cos,Ge=Math.exp,Ie=Math.log,Ue=Math.sin,Ve=Math.sqrt,We=Math.tan,$e={Feature:function(t,n){a(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)a(e[r].geometry,n)}},Xe={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){c(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)c(e[r],n,0)},Polygon:function(t,n){s(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)s(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)a(e[r],n)}};n(),n(),n();m.invert=m;var Ze,Je,Ke,Qe,Ye,tr,nr,er,rr=n(),ir=(O(z),T(function(){return!0},H,G,[-Ce,-ze])),or=(n(),n()),ur=n(),ar={point:u,lineStart:u,lineEnd:u,polygonStart:function(){ar.lineStart=$,ar.lineEnd=J},polygonEnd:function(){ar.lineStart=ar.lineEnd=ar.point=u,or.add(qe(ur)),ur.reset()},result:function(){var t=or/2;return or.reset(),t}},cr=1/0,sr=cr,lr=-cr,fr=lr,hr={point:K,lineStart:u,lineEnd:u,polygonStart:u,polygonEnd:u,result:function(){var t=[[cr,sr],[lr,fr]];return lr=fr=-(sr=cr=1/0),t}},pr=0,dr=0,gr=0,vr=0,yr=0,_r=0,mr=0,wr=0,Sr=0,Er={point:Q,lineStart:Y,lineEnd:et,polygonStart:function(){Er.lineStart=rt,Er.lineEnd=it},polygonEnd:function(){Er.point=Q,Er.lineStart=Y,Er.lineEnd=et},result:function(){var t=Sr?[mr/Sr,wr/Sr]:_r?[vr/_r,yr/_r]:gr?[pr/gr,dr/gr]:[NaN,NaN];return pr=dr=gr=vr=yr=_r=mr=wr=Sr=0,t}};at.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Be)}},result:u};var br,xr,Mr,Nr,Ar,kr=n(),Pr={point:u,lineStart:function(){Pr.point=ct},lineEnd:function(){br&&st(xr,Mr),Pr.point=u},polygonStart:function(){br=!0},polygonEnd:function(){br=null},result:function(){var t=+kr;return kr.reset(),t}};lt.prototype={_radius:4.5,_circle:ft(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=ft(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},dt.prototype={constructor:dt,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var jr=Fe(30*Te),Lr=pt({point:function(t,n){this.stream.point(t*Te,n*Te)}});kt.invert=function(t,n){return[t,2*De(Ge(n))-ze]};var Cr="http://www.w3.org/1999/xhtml",zr={svg:"http://www.w3.org/2000/svg",xhtml:Cr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Or=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Br=document.documentElement;if(!Br.matches){var Rr=Br.webkitMatchesSelector||Br.msMatchesSelector||Br.mozMatchesSelector||Br.oMatchesSelector;Or=function(t){return function(){return Rr.call(this,t)}}}}var Tr=Or;Ut.prototype={constructor:Ut,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};Nn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var qr={};if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(qr={mouseenter:"mouseover",mouseleave:"mouseout"})}var Dr=[null];le.prototype=fe.prototype={constructor:le,select:Tt,selectAll:Ht,filter:Ft,data:Xt,enter:It,exit:Zt,merge:Jt,order:Kt,sort:Qt,call:tn,nodes:nn,node:en,size:rn,empty:on,each:un,attr:pn,style:_n,property:bn,classed:Cn,text:Rn,html:Hn,raise:Gn,lower:Un,append:Vn,insert:$n,remove:Zn,clone:Qn,datum:Yn,on:oe,dispatch:se},t.init=je,Object.defineProperty(t,"__esModule",{value:!0})});