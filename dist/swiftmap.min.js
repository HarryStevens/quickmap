// https://github.com/HarryStevens/swiftmap#readme Version 0.0.5. Copyright 2018 Harry Stevens.
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.swiftmap={})}(this,function(t){"use strict";function n(){return new e}function e(){this.reset()}function r(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}function i(t){return t>1?0:t<-1?Le:Math.acos(t)}function o(t){return t>1?Ce:t<-1?-Ce:Math.asin(t)}function u(){}function a(t,n){t&&We.hasOwnProperty(t.type)&&We[t.type](t,n)}function c(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function s(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)c(t[e],n,1);n.polygonEnd()}function l(t,n){t&&Ze.hasOwnProperty(t.type)?Ze[t.type](t,n):a(t,n)}function f(t){return[De(t[1],t[0]),o(t[2])]}function h(t){var n=t[0],e=t[1],r=He(e);return[r*He(n),r*Ie(n),Ie(e)]}function p(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function d(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function v(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function g(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function y(t){var n=Ge(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function _(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function m(t,n){return[t>Le?t-ze:t<-Le?t+ze:t,n]}function w(t,n,e){return(t%=ze)?n||e?_(S(t),x(n,e)):S(t):n||e?x(n,e):m}function E(t){return function(n,e){return n+=t,[n>Le?n-ze:n<-Le?n+ze:n,e]}}function S(t){var n=E(t);return n.invert=E(-t),n}function x(t,n){function e(t,n){var e=He(n),c=He(t)*e,s=Ie(t)*e,l=Ie(n),f=l*r+c*i;return[De(s*u-f*a,c*r-l*i),o(f*u+s*a)]}var r=He(t),i=Ie(t),u=He(n),a=Ie(n);return e.invert=function(t,n){var e=He(n),c=He(t)*e,s=Ie(t)*e,l=Ie(n),f=l*u-s*a;return[De(s*u+l*a,c*r+f*i),o(f*r-c*i)]},e}function b(t){function n(n){return n=t(n[0]*Re,n[1]*Re),n[0]*=Be,n[1]*=Be,n}return t=w(t[0]*Re,t[1]*Re,t.length>2?t[2]*Re:0),n.invert=function(n){return n=t.invert(n[0]*Re,n[1]*Re),n[0]*=Be,n[1]*=Be,n},n}function M(t,n,e,r,i,o){if(e){var u=He(n),a=Ie(n),c=r*e;null==i?(i=n+r*ze,o=n-c/2):(i=N(u,i),o=N(u,o),(r>0?i<o:i>o)&&(i+=r*ze));for(var s,l=i;r>0?l>o:l<o;l-=c)s=f([u,-a*He(l),-a*Ie(l)]),t.point(s[0],s[1])}}function N(t,n){n=h(n),n[0]-=t,y(n);var e=i(-n[1]);return((-n[2]<0?-e:e)+ze-1e-6)%ze}function A(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:u,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function P(t,n){return qe(t[0]-n[0])<1e-6&&qe(t[1]-n[1])<1e-6}function j(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function k(t,n,e,r,i){var o,u,a=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(P(r,u)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a.push(e=new j(r,t,null,!0)),c.push(e.o=new j(r,null,e,!1)),a.push(e=new j(u,t,null,!1)),c.push(e.o=new j(u,null,e,!0))}}),a.length){for(c.sort(n),L(a),L(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;for(var s,l,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,u=s.length;o<u;++o)i.point((l=s[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((l=s[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,s=h.z,p=!p}while(!h.v);i.lineEnd()}}}function L(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function C(t,n){var e=n[0],r=n[1],i=Ie(r),u=[Ie(e),-He(e),0],a=0,c=0;er.reset(),1===i?r=Ce+1e-6:i===-1&&(r=-Ce-1e-6);for(var s=0,l=t.length;s<l;++s)if(p=(f=t[s]).length)for(var f,p,v=f[p-1],g=v[0],_=v[1]/2+Oe,m=Ie(_),w=He(_),E=0;E<p;++E,g=x,m=M,w=N,v=S){var S=f[E],x=S[0],b=S[1]/2+Oe,M=Ie(b),N=He(b),A=x-g,P=A>=0?1:-1,j=P*A,k=j>Le,L=m*M;if(er.add(De(L*P*Ie(j),w*N+L*He(j))),a+=k?A+P*ze:A,k^g>=e^x>=e){var C=d(h(v),h(S));y(C);var O=d(u,C);y(O);var z=(k^A>=0?-1:1)*o(O[2]);(r>z||r===z&&(C[0]||C[1]))&&(c+=k^A>=0?1:-1)}}return(a<-1e-6||a<1e-6&&er<-1e-6)^1&c}function O(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function z(t){return 1===t.length&&(t=B(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}function B(t){return function(n,e){return O(t(n),e)}}function R(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(r=t[i],n=r.length;--n>=0;)e[--u]=r[n];return e}function q(t,n,e,r){return function(i){function o(n,e){t(n,e)&&i.point(n,e)}function u(t,n){v.point(t,n)}function a(){m.point=u,v.lineStart()}function c(){m.point=o,v.lineEnd()}function s(t,n){d.push([t,n]),y.point(t,n)}function l(){y.lineStart(),d=[]}function f(){s(d[0][0],d[0][1]),y.lineEnd();var t,n,e,r,o=y.clean(),u=g.result(),a=u.length;if(d.pop(),h.push(d),d=null,a)if(1&o){if(e=u[0],(n=e.length-1)>0){for(_||(i.polygonStart(),_=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else a>1&&2&o&&u.push(u.pop().concat(u.shift())),p.push(u.filter(T))}var h,p,d,v=n(i),g=A(),y=n(g),_=!1,m={point:o,lineStart:a,lineEnd:c,polygonStart:function(){m.point=s,m.lineStart=l,m.lineEnd=f,p=[],h=[]},polygonEnd:function(){m.point=o,m.lineStart=a,m.lineEnd=c,p=R(p);var t=C(h,r);p.length?(_||(i.polygonStart(),_=!0),k(p,D,t,e,i)):t&&(_||(i.polygonStart(),_=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),_&&(i.polygonEnd(),_=!1),p=h=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return m}}function T(t){return t.length>1}function D(t,n){return((t=t.x)[0]<0?t[1]-Ce-1e-6:Ce-t[1])-((n=n.x)[0]<0?n[1]-Ce-1e-6:Ce-n[1])}function H(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?Le:-Le,c=qe(o-e);qe(c-Le)<1e-6?(t.point(e,r=(r+u)/2>0?Ce:-Ce),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&c>=Le&&(qe(e-i)<1e-6&&(e-=1e-6*i),qe(o-a)<1e-6&&(o-=1e-6*a),r=U(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}function U(t,n,e,r){var i,o,u=Ie(t-e);return qe(u)>1e-6?Te((Ie(n)*(o=He(r))*Ie(e)-Ie(r)*(i=He(n))*Ie(t))/(i*o*u)):(n+r)/2}function F(t,n,e,r){var i;if(null==t)i=e*Ce,r.point(-Le,i),r.point(0,i),r.point(Le,i),r.point(Le,0),r.point(Le,-i),r.point(0,-i),r.point(-Le,-i),r.point(-Le,0),r.point(-Le,i);else if(qe(t[0]-n[0])>1e-6){var o=t[0]<n[0]?Le:-Le;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function I(t){function n(n,e,r,i){M(i,t,a,r,n,e)}function e(t,n){return He(t)*He(n)>u}function r(t){var n,r,u,a,l;return{lineStart:function(){a=u=!1,l=1},point:function(f,h){var p,d=[f,h],v=e(f,h),g=c?v?0:o(f,h):v?o(f+(f<0?Le:-Le),h):0;if(!n&&(a=u=v)&&t.lineStart(),v!==u&&(!(p=i(n,d))||P(n,p)||P(d,p))&&(d[0]+=1e-6,d[1]+=1e-6,v=e(d[0],d[1])),v!==u)l=0,v?(t.lineStart(),p=i(d,n),t.point(p[0],p[1])):(p=i(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(s&&n&&c^v){var y;g&r||!(y=i(d,n,!0))||(l=0,c?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!v||n&&P(n,d)||t.point(d[0],d[1]),n=d,u=v,r=g},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return l|(a&&u)<<1}}}function i(t,n,e){var r=h(t),i=h(n),o=[1,0,0],a=d(r,i),c=p(a,a),s=a[0],l=c-s*s;if(!l)return!e&&t;var y=u*c/l,_=-u*s/l,m=d(o,a),w=g(o,y);v(w,g(a,_));var E=m,S=p(w,E),x=p(E,E),b=S*S-x*(p(w,w)-1);if(!(b<0)){var M=Ge(b),N=g(E,(-S-M)/x);if(v(N,w),N=f(N),!e)return N;var A,P=t[0],j=n[0],k=t[1],L=n[1];j<P&&(A=P,P=j,j=A);var C=j-P,O=qe(C-Le)<1e-6,z=O||C<1e-6;if(!O&&L<k&&(A=k,k=L,L=A),z?O?k+L>0^N[1]<(qe(N[0]-P)<1e-6?k:L):k<=N[1]&&N[1]<=L:C>Le^(P<=N[0]&&N[0]<=j)){var B=g(E,(-S+M)/x);return v(B,w),[N,f(B)]}}}function o(n,e){var r=c?t:Le-t,i=0;return n<-r?i|=1:n>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var u=He(t),a=6*Re,c=u>0,s=qe(u)>1e-6;return q(e,r,n,c?[0,-t]:[-Le,t-Le])}function G(t,n,e,r,i,o){var u,a=t[0],c=t[1],s=n[0],l=n[1],f=0,h=1,p=s-a,d=l-c;if(u=e-a,p||!(u>0)){if(u/=p,p<0){if(u<f)return;u<h&&(h=u)}else if(p>0){if(u>h)return;u>f&&(f=u)}if(u=i-a,p||!(u<0)){if(u/=p,p<0){if(u>h)return;u>f&&(f=u)}else if(p>0){if(u<f)return;u<h&&(h=u)}if(u=r-c,d||!(u>0)){if(u/=d,d<0){if(u<f)return;u<h&&(h=u)}else if(d>0){if(u>h)return;u>f&&(f=u)}if(u=o-c,d||!(u<0)){if(u/=d,d<0){if(u>h)return;u>f&&(f=u)}else if(d>0){if(u<f)return;u<h&&(h=u)}return f>0&&(t[0]=a+f*p,t[1]=c+f*d),h<1&&(n[0]=a+h*p,n[1]=c+h*d),!0}}}}}function V(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,s){var l=0,f=0;if(null==i||(l=u(i,a))!==(f=u(o,a))||c(i,o)<0^a>0){do s.point(0===l||3===l?t:e,l>1?r:n);while((l=(l+a+4)%4)!==f)}else s.point(o[0],o[1])}function u(r,i){return qe(r[0]-t)<1e-6?i>0?0:3:qe(r[0]-e)<1e-6?i>0?2:1:qe(r[1]-n)<1e-6?i>0?1:0:i>0?3:2}function a(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){function c(t,n){i(t,n)&&N.point(t,n)}function s(){for(var n=0,e=0,i=g.length;e<i;++e)for(var o,u,a=g[e],c=1,s=a.length,l=a[0],f=l[0],h=l[1];c<s;++c)o=f,u=h,l=a[c],f=l[0],h=l[1],u<=r?h>r&&(f-o)*(r-u)>(h-u)*(t-o)&&++n:h<=r&&(f-o)*(r-u)<(h-u)*(t-o)&&--n;return n}function l(){N=P,v=[],g=[],M=!0}function f(){var t=s(),n=M&&t,e=(v=R(v)).length;(n||e)&&(u.polygonStart(),n&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),e&&k(v,a,t,o,u),u.polygonEnd()),N=u,v=g=y=null}function h(){j.point=d,g&&g.push(y=[]),b=!0,x=!1,E=S=NaN}function p(){v&&(d(_,m),w&&x&&P.rejoin(),v.push(P.result())),j.point=c,x&&N.lineEnd()}function d(o,u){var a=i(o,u);if(g&&y.push([o,u]),b)_=o,m=u,w=a,b=!1,a&&(N.lineStart(),N.point(o,u));else if(a&&x)N.point(o,u);else{var c=[E=Math.max(-1e9,Math.min(1e9,E)),S=Math.max(-1e9,Math.min(1e9,S))],s=[o=Math.max(-1e9,Math.min(1e9,o)),u=Math.max(-1e9,Math.min(1e9,u))];G(c,s,t,n,e,r)?(x||(N.lineStart(),N.point(c[0],c[1])),N.point(s[0],s[1]),a||N.lineEnd(),M=!1):a&&(N.lineStart(),N.point(o,u),M=!1)}E=o,S=u,x=a}var v,g,y,_,m,w,E,S,x,b,M,N=u,P=A(),j={point:c,lineStart:h,lineEnd:p,polygonStart:l,polygonEnd:f};return j}}function Z(t){return t}function W(){ur.point=Y}function Y(t,n){ur.point=$,Ye=Xe=t,$e=Je=n}function $(t,n){or.add(Je*t-Xe*n),Xe=t,Je=n}function X(){$(Ye,$e)}function J(t,n){t<ar&&(ar=t),t>sr&&(sr=t),n<cr&&(cr=n),n>lr&&(lr=n)}function K(t,n){hr+=t,pr+=n,++dr}function Q(){Er.point=tt}function tt(t,n){Er.point=nt,K(tr=t,nr=n)}function nt(t,n){var e=t-tr,r=n-nr,i=Ge(e*e+r*r);vr+=i*(tr+t)/2,gr+=i*(nr+n)/2,yr+=i,K(tr=t,nr=n)}function et(){Er.point=K}function rt(){Er.point=ot}function it(){ut(Ke,Qe)}function ot(t,n){Er.point=ut,K(Ke=tr=t,Qe=nr=n)}function ut(t,n){var e=t-tr,r=n-nr,i=Ge(e*e+r*r);vr+=i*(tr+t)/2,gr+=i*(nr+n)/2,yr+=i,i=nr*t-tr*n,_r+=i*(tr+t),mr+=i*(nr+n),wr+=3*i,K(tr=t,nr=n)}function at(t){this._context=t}function ct(t,n){Pr.point=st,xr=Mr=t,br=Nr=n}function st(t,n){Mr-=t,Nr-=n,Ar.add(Ge(Mr*Mr+Nr*Nr)),Mr=t,Nr=n}function lt(){this._string=[]}function ft(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ht(t,n){function e(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),l(t,r(i))),i.result()}var r,i,o=4.5;return e.area=function(t){return l(t,r(ur)),ur.result()},e.measure=function(t){return l(t,r(Pr)),Pr.result()},e.bounds=function(t){return l(t,r(fr)),fr.result()},e.centroid=function(t){return l(t,r(Er)),Er.result()},e.projection=function(n){return arguments.length?(r=null==n?(t=null,Z):(t=n).stream,e):t},e.context=function(t){return arguments.length?(i=null==t?(n=null,new lt):new at(n=t),"function"!=typeof o&&i.pointRadius(o),e):n},e.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),e):o},e.projection(t).context(n)}function pt(t){return function(n){var e=new dt;for(var r in t)e[r]=t[r];return e.stream=n,e}}function dt(){}function vt(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),l(e,t.stream(fr)),n(fr.result()),null!=r&&t.clipExtent(r),t}function gt(t,n,e){return vt(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([u,a])},e)}function yt(t,n,e){return gt(t,[[0,0],n],e)}function _t(t,n,e){return vt(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([o,u])},e)}function mt(t,n,e){return vt(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,u])},e)}function wt(t,n){return+n?St(t,n):Et(t)}function Et(t){return pt({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function St(t,n){function e(r,i,u,a,c,s,l,f,h,p,d,v,g,y){var _=l-r,m=f-i,w=_*_+m*m;if(w>4*n&&g--){var E=a+p,S=c+d,x=s+v,b=Ge(E*E+S*S+x*x),M=o(x/=b),N=qe(qe(x)-1)<1e-6||qe(u-h)<1e-6?(u+h)/2:De(S,E),A=t(N,M),P=A[0],j=A[1],k=P-r,L=j-i,C=m*k-_*L;(C*C/w>n||qe((_*k+m*L)/w-.5)>.3||a*p+c*d+s*v<jr)&&(e(r,i,u,a,c,s,P,j,N,E/=b,S/=b,x,g,y),y.point(P,j),e(P,j,N,E,S,x,l,f,h,p,d,v,g,y))}}return function(n){function r(e,r){e=t(e,r),n.point(e[0],e[1])}function i(){_=NaN,x.point=o,n.lineStart()}function o(r,i){var o=h([r,i]),u=t(r,i);e(_,m,y,w,E,S,_=u[0],m=u[1],y=r,w=o[0],E=o[1],S=o[2],16,n),n.point(_,m)}function u(){x.point=r,n.lineEnd()}function a(){i(),x.point=c,x.lineEnd=s}function c(t,n){o(l=t,n),f=_,p=m,d=w,v=E,g=S,x.point=o}function s(){e(_,m,y,w,E,S,f,p,l,d,v,g,16,n),x.lineEnd=u,u()}var l,f,p,d,v,g,y,_,m,w,E,S,x={point:r,lineStart:i,lineEnd:u,polygonStart:function(){n.polygonStart(),x.lineStart=a},polygonEnd:function(){n.polygonEnd(),x.lineStart=i}};return x}}function xt(t){return pt({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function bt(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r}function Mt(t,n,e,r){function i(t,r){return[a*t-c*r+n,e-c*t-a*r]}var o=He(r),u=Ie(r),a=o*t,c=u*t,s=o/t,l=u/t,f=(u*e-o*n)/t,h=(u*n+o*e)/t;return i.invert=function(t,n){return[s*t-l*n+f,h-l*t-s*n]},i}function Nt(t){return At(function(){return t})()}function At(t){function n(t){return h(t[0]*Re,t[1]*Re)}function e(t){return(t=h.invert(t[0],t[1]))&&[t[0]*Be,t[1]*Be]}function r(){var t=Mt(v,0,0,M).apply(null,o(m,E)),n=(M?Mt:bt)(v,g-t[0],y-t[1],M);return u=w(S,x,b),f=_(o,n),h=_(u,f),l=wt(f,k),i()}function i(){return p=d=null,n}var o,u,a,c,s,l,f,h,p,d,v=150,g=480,y=250,m=0,E=0,S=0,x=0,b=0,M=0,N=null,A=rr,P=null,j=Z,k=.5;return n.stream=function(t){return p&&d===t?p:p=kr(xt(u)(A(l(j(d=t)))))},n.preclip=function(t){return arguments.length?(A=t,N=void 0,i()):A},n.postclip=function(t){return arguments.length?(j=t,P=a=c=s=null,i()):j},n.clipAngle=function(t){return arguments.length?(A=+t?I(N=t*Re):(N=null,rr),i()):N*Be},n.clipExtent=function(t){return arguments.length?(j=null==t?(P=a=c=s=null,Z):V(P=+t[0][0],a=+t[0][1],c=+t[1][0],s=+t[1][1]),i()):null==P?null:[[P,a],[c,s]]},n.scale=function(t){return arguments.length?(v=+t,r()):v},n.translate=function(t){return arguments.length?(g=+t[0],y=+t[1],r()):[g,y]},n.center=function(t){return arguments.length?(m=t[0]%360*Re,E=t[1]%360*Re,r()):[m*Be,E*Be]},n.rotate=function(t){return arguments.length?(S=t[0]%360*Re,x=t[1]%360*Re,b=t.length>2?t[2]%360*Re:0,r()):[S*Be,x*Be,b*Be]},n.angle=function(t){return arguments.length?(M=t%360*Re,r()):M*Be},n.precision=function(t){return arguments.length?(l=wt(f,k=t*t),i()):Ge(k)},n.fitExtent=function(t,e){return gt(n,t,e)},n.fitSize=function(t,e){return yt(n,t,e)},n.fitWidth=function(t,e){return _t(n,t,e)},n.fitHeight=function(t,e){return mt(n,t,e)},function(){return o=t.apply(this,arguments),n.invert=o.invert&&e,r()}}function Pt(t,n){return[t,Fe(Ve((Ce+n)/2))]}function jt(){return kt(Pt).scale(961/ze)}function kt(t){function n(){var n=Le*a(),u=o(b(o.rotate()).invert([0,0]));return s(null==l?[[u[0]-n,u[1]-n],[u[0]+n,u[1]+n]]:t===Pt?[[Math.max(u[0]-n,l),e],[Math.min(u[0]+n,r),i]]:[[l,Math.max(u[1]-n,e)],[r,Math.min(u[1]+n,i)]])}var e,r,i,o=Nt(t),u=o.center,a=o.scale,c=o.translate,s=o.clipExtent,l=null;return o.scale=function(t){return arguments.length?(a(t),n()):a()},o.translate=function(t){return arguments.length?(c(t),n()):c()},o.center=function(t){return arguments.length?(u(t),n()):u()},o.clipExtent=function(t){return arguments.length?(null==t?l=e=r=i=null:(l=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),n()):null==l?null:[[l,e],[r,i]]},n()}function Lt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Cr.hasOwnProperty(n)?{space:Cr[n],local:t}:t}function Ct(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Lr&&n.documentElement.namespaceURI===Lr?n.createElement(t):n.createElementNS(e,t)}}function Ot(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function zt(t){var n=Lt(t);return(n.local?Ot:Ct)(n)}function Bt(){}function Rt(t){return null==t?Bt:function(){return this.querySelector(t)}}function qt(t){"function"!=typeof t&&(t=Rt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),l=0;l<c;++l)(o=a[l])&&(u=t.call(o,o.__data__,l,a))&&("__data__"in o&&(u.__data__=o.__data__),s[l]=u);return new le(r,this._parents)}function Tt(){return[]}function Dt(t){return null==t?Tt:function(){return this.querySelectorAll(t)}}function Ht(t){"function"!=typeof t&&(t=Dt(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new le(r,i)}function Ut(t){"function"!=typeof t&&(t=Rr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new le(r,this._parents)}function Ft(t){return new Array(t.length)}function It(){return new le(this._enter||this._groups.map(Ft),this._parents)}function Gt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Vt(t){return function(){return t}}function Zt(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new Gt(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function Wt(t,n,e,r,i,o,u){var a,c,s,l={},f=n.length,h=o.length,p=new Array(f);for(a=0;a<f;++a)(c=n[a])&&(p[a]=s="$"+u.call(c,c.__data__,a,n),s in l?i[a]=c:l[s]=c);for(a=0;a<h;++a)s="$"+u.call(t,o[a],a,o),(c=l[s])?(r[a]=c,c.__data__=o[a],l[s]=null):e[a]=new Gt(t,o[a]);for(a=0;a<f;++a)(c=n[a])&&l[p[a]]===c&&(i[a]=c)}function Yt(t,n){if(!t)return p=new Array(this.size()),s=-1,this.each(function(t){p[++s]=t}),p;var e=n?Wt:Zt,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Vt(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var l=r[s],f=i[s],h=f.length,p=t.call(l,l&&l.__data__,s,r),d=p.length,v=a[s]=new Array(d),g=u[s]=new Array(d);e(l,f,v,g,c[s]=new Array(h),p,n);for(var y,_,m=0,w=0;m<d;++m)if(y=v[m]){for(m>=w&&(w=m+1);!(_=g[w])&&++w<d;);y._next=_||null}}return u=new le(u,r),u._enter=a,u._exit=c,u}function $t(){return new le(this._exit||this._groups.map(Ft),this._parents)}function Xt(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],l=e[a],f=s.length,h=u[a]=new Array(f),p=0;p<f;++p)(c=s[p]||l[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new le(u,this._parents)}function Jt(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this}function Kt(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Qt);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,s=i[o]=new Array(c),l=0;l<c;++l)(u=a[l])&&(s[l]=u);s.sort(n)}return new le(i,this._parents).order()}function Qt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function tn(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function nn(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t}function en(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null}function rn(){var t=0;return this.each(function(){++t}),t}function on(){return!this.node()}function un(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this}function an(t){return function(){this.removeAttribute(t)}}function cn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sn(t,n){return function(){this.setAttribute(t,n)}}function ln(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function fn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function hn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function pn(t,n){var e=Lt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?cn:an:"function"==typeof n?e.local?hn:fn:e.local?ln:sn)(e,n))}function dn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function vn(t){return function(){this.style.removeProperty(t)}}function gn(t,n,e){return function(){this.style.setProperty(t,n,e)}}function yn(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function _n(t,n,e){return arguments.length>1?this.each((null==n?vn:"function"==typeof n?yn:gn)(t,n,null==e?"":e)):mn(this.node(),t)}function mn(t,n){return t.style.getPropertyValue(n)||dn(t).getComputedStyle(t,null).getPropertyValue(n)}function wn(t){return function(){delete this[t]}}function En(t,n){return function(){this[t]=n}}function Sn(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function xn(t,n){return arguments.length>1?this.each((null==n?wn:"function"==typeof n?Sn:En)(t,n)):this.node()[t]}function bn(t){return t.trim().split(/^|\s+/)}function Mn(t){return t.classList||new Nn(t)}function Nn(t){this._node=t,this._names=bn(t.getAttribute("class")||"")}function An(t,n){for(var e=Mn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Pn(t,n){for(var e=Mn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function jn(t){return function(){An(this,t)}}function kn(t){return function(){Pn(this,t)}}function Ln(t,n){return function(){(n.apply(this,arguments)?An:Pn)(this,t)}}function Cn(t,n){var e=bn(t+"");if(arguments.length<2){for(var r=Mn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Ln:n?jn:kn)(e,n))}function On(){this.textContent=""}function zn(t){return function(){this.textContent=t}}function Bn(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Rn(t){return arguments.length?this.each(null==t?On:("function"==typeof t?Bn:zn)(t)):this.node().textContent}function qn(){this.innerHTML=""}function Tn(t){return function(){this.innerHTML=t}}function Dn(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Hn(t){return arguments.length?this.each(null==t?qn:("function"==typeof t?Dn:Tn)(t)):this.node().innerHTML}function Un(){this.nextSibling&&this.parentNode.appendChild(this)}function Fn(){return this.each(Un)}function In(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gn(){return this.each(In)}function Vn(t){var n="function"==typeof t?t:zt(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Zn(){return null}function Wn(t,n){var e="function"==typeof t?t:zt(t),r=null==n?Zn:"function"==typeof n?n:Rt(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Yn(){var t=this.parentNode;t&&t.removeChild(this)}function $n(){return this.each(Yn)}function Xn(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Jn(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function Kn(t){return this.select(t?Jn:Xn)}function Qn(t){return arguments.length?this.property("__data__",t):this.node().__data__}function te(t,n,e){return t=ne(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function ne(t,n,e){return function(r){try{t.call(this,this.__data__,n,e)}finally{}}}function ee(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}function re(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function ie(t,n,e){var r=qr.hasOwnProperty(t.type)?te:ne;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var l=0,f=c.length;l<f;++l)if((a=c[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function oe(t,n,e){var r,i,o=ee(t+""),u=o.length;{if(!(arguments.length<2)){for(a=n?ie:re,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,l=a.length;s<l;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}}function ue(t,n,e){var r=dn(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ae(t,n){return function(){return ue(this,t,n)}}function ce(t,n){return function(){return ue(this,t,n.apply(this,arguments))}}function se(t,n){return this.each(("function"==typeof n?ce:ae)(t,n))}function le(t,n){this._groups=t,this._parents=n}function fe(){return new le([[document.documentElement]],Tr)}function he(t){return"string"==typeof t?new le([[document.querySelector(t)]],[document.documentElement]):new le([[t]],Tr)}function pe(t){return t}function de(t){if(null==t)return pe;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],u=t.translate[1];return function(t,a){a||(n=e=0);var c=2,s=t.length,l=new Array(s);for(l[0]=(n+=t[0])*r+o,l[1]=(e+=t[1])*i+u;c<s;)l[c]=t[c],++c;return l}}function ve(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}function ge(t,n){return"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map(function(n){return ye(t,n)})}:ye(t,n)}function ye(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=_e(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}function _e(t,n){function e(t,n){n.length&&n.pop();for(var e=s[t<0?~t:t],r=0,i=e.length;r<i;++r)n.push(c(e[r],r));t<0&&ve(n,i)}function r(t){return c(t)}function i(t){for(var n=[],r=0,i=t.length;r<i;++r)e(t[r],n);return n.length<2&&n.push(n[0]),n}function o(t){for(var n=i(t);n.length<4;)n.push(n[0]);return n}function u(t){return t.map(o)}function a(t){var n,e=t.type;switch(e){case"GeometryCollection":return{type:e,geometries:t.geometries.map(a)};case"Point":n=r(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(r);break;case"LineString":n=i(t.arcs);break;case"MultiLineString":n=t.arcs.map(i);break;case"Polygon":n=u(t.arcs);break;case"MultiPolygon":n=t.arcs.map(u);break;default:return null}return{type:e,coordinates:n}}var c=de(t.transform),s=t.arcs;return a(n)}function me(t,n){function e(n){var e,r=t.arcs[n<0?~n:n],i=r[0];return t.transform?(e=[0,0],r.forEach(function(t){e[0]+=t[0],e[1]+=t[1]})):e=r[r.length-1],n<0?[e,i]:[i,e]}function r(t,n){for(var e in t){var r=t[e];delete n[r.start],delete r.start,delete r.end,r.forEach(function(t){i[t<0?~t:t]=1}),a.push(r)}}var i={},o={},u={},a=[],c=-1;return n.forEach(function(e,r){var i,o=t.arcs[e<0?~e:e];o.length<3&&!o[1][0]&&!o[1][1]&&(i=n[++c],n[c]=e,n[r]=i)}),n.forEach(function(t){var n,r,i=e(t),a=i[0],c=i[1];if(n=u[a])if(delete u[n.end],n.push(t),n.end=c,r=o[c]){delete o[r.start];var s=r===n?n:n.concat(r);o[s.start=n.start]=u[s.end=r.end]=s}else o[n.start]=u[n.end]=n;else if(n=o[c])if(delete o[n.start],n.unshift(t),n.start=a,r=u[a]){delete u[r.end];var l=r===n?n:r.concat(n);o[l.start=r.start]=u[l.end=n.end]=l}else o[n.start]=u[n.end]=n;else n=[t],o[n.start=a]=u[n.end=c]=n}),r(u,o),r(o,u),n.forEach(function(t){i[t<0?~t:t]||a.push([t])}),a}function we(t){return _e(t,Ee.apply(this,arguments))}function Ee(t,n,e){var r,i,o;if(arguments.length>1)r=Se(t,n,e);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:me(t,r)}}function Se(t,n,e){function r(t){var n=t<0?~t:t;(l[n]||(l[n]=[])).push({i:t,g:c})}function i(t){t.forEach(r)}function o(t){t.forEach(i)}function u(t){t.forEach(o)}function a(t){switch(c=t,t.type){case"GeometryCollection":t.geometries.forEach(a);break;case"LineString":i(t.arcs);break;case"MultiLineString":case"Polygon":o(t.arcs);break;case"MultiPolygon":u(t.arcs)}}var c,s=[],l=[];return a(n),l.forEach(null==e?function(t){s.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&s.push(t[0].i)}),s}function xe(){var t=this.data.objects[Object.keys(this.data.objects)[0]];return this.projection.fitSize([this.width,this.height],ge(this.data,t)),this}function be(){return this.centerZoom().drawSubUnits().drawBoundary(),this}function Me(){var t=this.data.objects[Object.keys(this.data.objects)[0]],n=we(this.data,t,function(t,n){return t===n});return this.boundary=this.svg.append("path").datum(n).attr("d",this.path).attr("class","boundary").attr("stroke","#000").attr("fill","none"),this}function Ne(){var t=this.data.objects[Object.keys(this.data.objects)[0]];return this.subUnits=this.svg.selectAll(".subunit").data(ge(this.data,t).features).enter().append("path").attr("class","subunit").attr("d",this.path).style("stroke","#fff").style("stroke-width","1px").style("fill","#ccc"),this}function Ae(t){return t.replace(/[^\d.-]/g,"")}function Pe(){this.width="body"==this.wrapper?window.innerWidth:+Ae(he(this.wrapper).style("width")),this.height="body"==this.wrapper?window.innerHeight:+Ae(he(this.wrapper).style("height")),this.svg.attr("width",this.width).attr("height",this.height),this.centerZoom(),this.svg.selectAll("path").attr("d",this.path);var t=this.projection;return this.svg.selectAll("text").attr("transform",function(n){return"translate("+t(n.geometry.coordinates)+")"}),this}function je(t){if(!t)throw new Error("You must specify options.");if(!t.data)throw new Error("Your options must contain data.");return t.wrapper||(t.wrapper="body"),this.data=t.data,this.wrapper=t.wrapper,this.projection=jt(),this.width="body"==this.wrapper?window.innerWidth:+Ae(he(this.wrapper).style("width")),this.height="body"==this.wrapper?window.innerHeight:+Ae(he(this.wrapper).style("height")),this.path=ht().projection(this.projection),this.svg=he(this.wrapper).append("svg").attr("width",this.width).attr("height",this.height),this.centerZoom=xe,this.draw=be,this.drawBoundary=Me,this.drawSubUnits=Ne,this.resize=Pe,this}e.prototype={constructor:e,reset:function(){this.s=this.t=0},add:function(t){r(ke,t,this.t),r(this,ke.s,this.s),this.s?this.t+=ke.t:this.s=ke.t},valueOf:function(){
return this.s}};var ke=new e,Le=Math.PI,Ce=Le/2,Oe=Le/4,ze=2*Le,Be=180/Le,Re=Le/180,qe=Math.abs,Te=Math.atan,De=Math.atan2,He=Math.cos,Ue=Math.exp,Fe=Math.log,Ie=Math.sin,Ge=Math.sqrt,Ve=Math.tan,Ze={Feature:function(t,n){a(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)a(e[r].geometry,n)}},We={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){c(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)c(e[r],n,0)},Polygon:function(t,n){s(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)s(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)a(e[r],n)}};n(),n(),n();m.invert=m;var Ye,$e,Xe,Je,Ke,Qe,tr,nr,er=n(),rr=(z(O),q(function(){return!0},H,F,[-Le,-Ce])),ir=(n(),n()),or=n(),ur={point:u,lineStart:u,lineEnd:u,polygonStart:function(){ur.lineStart=W,ur.lineEnd=X},polygonEnd:function(){ur.lineStart=ur.lineEnd=ur.point=u,ir.add(qe(or)),or.reset()},result:function(){var t=ir/2;return ir.reset(),t}},ar=1/0,cr=ar,sr=-ar,lr=sr,fr={point:J,lineStart:u,lineEnd:u,polygonStart:u,polygonEnd:u,result:function(){var t=[[ar,cr],[sr,lr]];return sr=lr=-(cr=ar=1/0),t}},hr=0,pr=0,dr=0,vr=0,gr=0,yr=0,_r=0,mr=0,wr=0,Er={point:K,lineStart:Q,lineEnd:et,polygonStart:function(){Er.lineStart=rt,Er.lineEnd=it},polygonEnd:function(){Er.point=K,Er.lineStart=Q,Er.lineEnd=et},result:function(){var t=wr?[_r/wr,mr/wr]:yr?[vr/yr,gr/yr]:dr?[hr/dr,pr/dr]:[NaN,NaN];return hr=pr=dr=vr=gr=yr=_r=mr=wr=0,t}};at.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,ze)}},result:u};var Sr,xr,br,Mr,Nr,Ar=n(),Pr={point:u,lineStart:function(){Pr.point=ct},lineEnd:function(){Sr&&st(xr,br),Pr.point=u},polygonStart:function(){Sr=!0},polygonEnd:function(){Sr=null},result:function(){var t=+Ar;return Ar.reset(),t}};lt.prototype={_radius:4.5,_circle:ft(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=ft(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},dt.prototype={constructor:dt,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var jr=He(30*Re),kr=pt({point:function(t,n){this.stream.point(t*Re,n*Re)}});Pt.invert=function(t,n){return[t,2*Te(Ue(n))-Ce]};var Lr="http://www.w3.org/1999/xhtml",Cr={svg:"http://www.w3.org/2000/svg",xhtml:Lr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Or=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var zr=document.documentElement;if(!zr.matches){var Br=zr.webkitMatchesSelector||zr.msMatchesSelector||zr.mozMatchesSelector||zr.oMatchesSelector;Or=function(t){return function(){return Br.call(this,t)}}}}var Rr=Or;Gt.prototype={constructor:Gt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};Nn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var qr={};if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(qr={mouseenter:"mouseover",mouseleave:"mouseout"})}var Tr=[null];le.prototype=fe.prototype={constructor:le,select:qt,selectAll:Ht,filter:Ut,data:Yt,enter:It,exit:$t,merge:Xt,order:Jt,sort:Kt,call:tn,nodes:nn,node:en,size:rn,empty:on,each:un,attr:pn,style:_n,property:xn,classed:Cn,text:Rn,html:Hn,raise:Fn,lower:Gn,append:Vn,insert:Wn,remove:$n,clone:Kn,datum:Qn,on:oe,dispatch:se},t.init=je,Object.defineProperty(t,"__esModule",{value:!0})});